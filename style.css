:root{
  --bg:#0b0d13;
  --panel:#0f131d;
  --panel2:#0c1018;
  --text:#eaf0ff;
  --muted:rgba(234,240,255,.72);
  --muted2:rgba(234,240,255,.52);
  --line:rgba(255,255,255,.10);

  --brand1:#7c3aed;
  --brand2:#06b6d4;
  --brand3:#f59e0b;

  --shadow: 0 14px 50px rgba(0,0,0,.45);
  --shadow2: 0 12px 30px rgba(0,0,0,.35);
  --radius: 18px;
  --radius2: 26px;

  --max: 1240px;

  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: radial-gradient(1200px 800px at 20% 0%, rgba(124,58,237,.18), transparent 55%),
              radial-gradient(1100px 750px at 80% 5%, rgba(6,182,212,.14), transparent 55%),
              radial-gradient(1200px 800px at 50% 100%, rgba(245,158,11,.10), transparent 55%),
              var(--bg);
  color:var(--text);
  overflow-x:hidden;
  padding-top: var(--safe-top);
}

.bg-noise{
  position:fixed; inset:0;
  pointer-events:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.18'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  opacity:.40;
}

/* NAV */
.topnav{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(18px);
  background: linear-gradient(to bottom, rgba(11,13,19,.92), rgba(11,13,19,.66));
  border-bottom:1px solid rgba(255,255,255,.08);
}
.topnav__inner{
  max-width: var(--max); margin: 0 auto;
  padding: 12px 14px;
  display:flex; align-items:center; gap:12px;
}
.brand{
  text-decoration:none; display:flex; align-items:baseline; gap:10px; color:var(--text); min-width: 150px;
}
.brand__mark{ font-weight:900; letter-spacing:-.03em; font-size:20px; background: linear-gradient(90deg, var(--brand1), var(--brand2)); -webkit-background-clip:text; background-clip:text; color:transparent; }
.brand__name{ font-weight:900; letter-spacing:-.03em; font-size:20px; }
.brand__tag{ display:none; font-size:12px; color:var(--muted2); margin-left:10px; }

.navlinks{ display:flex; gap:10px; align-items:center; flex:1; min-width:0; }
.navlink{ text-decoration:none; color: var(--muted); font-weight:700; font-size:13px; padding:9px 10px; border-radius:12px; transition: transform .12s ease, background .12s ease, color .12s ease; }
.navlink:hover{ background: rgba(255,255,255,.06); color: var(--text); transform: translateY(-1px); }

.actions{ display:flex; gap:10px; align-items:center; }

.searchbox{ position:relative; display:flex; align-items:center; gap:10px; padding: 10px 12px; border-radius:14px; background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.10); box-shadow: 0 10px 30px rgba(0,0,0,.20); width:min(420px, 38vw); }
.searchbox .icon{ color: rgba(234,240,255,.65); font-weight:700; }
.searchbox input{ appearance:none; border:none; outline:none; background: transparent; color: var(--text); font-size:13px; width:100%; }
.searchbox input::placeholder{ color: rgba(234,240,255,.46); }
.clearbtn{ border:none; background: transparent; color: rgba(234,240,255,.65); font-size:18px; line-height:1; cursor:pointer; padding: 0 6px; border-radius:10px; transition: background .12s ease; display:none; }
.clearbtn:hover{ background: rgba(255,255,255,.08); }

.ghostbtn{ border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.06); color: var(--text); font-weight:800; font-size:12px; padding: 10px 12px; border-radius:14px; cursor:pointer; transition: transform .12s ease, background .12s ease; }
.ghostbtn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }

/* Language pill */
.pillselect{ position:relative; }
.pillselect__btn{ border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.06); color: var(--text); font-weight:900; font-size:12px; padding: 10px 12px; border-radius:14px; cursor:pointer; display:flex; align-items:center; gap:8px; }
.pillselect__menu{ position:absolute; right:0; top:44px; min-width:210px; background: rgba(15,19,29,.92); border: 1px solid rgba(255,255,255,.10); border-radius:16px; box-shadow: var(--shadow2); padding:8px; display:none; }
.pillselect__item{ width:100%; text-align:left; padding:10px 10px; border-radius:12px; border:none; background: transparent; cursor:pointer; color: var(--text); font-weight:800; font-size:12px; transition: background .12s ease; }
.pillselect__item:hover{ background: rgba(255,255,255,.08); }

/* APP */
.app{ max-width: var(--max); margin: 0 auto; padding: 16px 14px calc(60px + var(--safe-bottom)); }

/* HERO */
.hero{ position:relative; border-radius: var(--radius2); overflow:hidden; background:
  radial-gradient(900px 500px at 15% 30%, rgba(124,58,237,.36), transparent 60%),
  radial-gradient(900px 500px at 85% 15%, rgba(6,182,212,.26), transparent 60%),
  linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.10); box-shadow: var(--shadow);
}
.hero__inner{ display:grid; grid-template-columns: 1.35fr .95fr; gap:16px; padding:22px; }
.hero__title{ font-size: 34px; line-height:1.05; letter-spacing:-.04em; margin:0 0 10px; font-weight:900; }
.hero__subtitle{ margin:0 0 14px; color:var(--muted); font-size:14px; line-height:1.55; }
.hero__chips{ display:flex; flex-wrap:wrap; gap:8px; margin:12px 0 16px; }
.chip{ padding:7px 10px; border-radius:999px; border: 1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.16); color: rgba(234,240,255,.86); font-weight: 900; font-size: 11px; }
.hero__cta{ display:flex; gap:10px; flex-wrap: wrap; }
.btn{ border:none; cursor:pointer; font-weight: 900; border-radius: 16px; padding: 12px 14px; font-size: 12px; letter-spacing:.02em; transition: transform .12s ease, filter .12s ease; touch-action: manipulation; }
.btn:hover{ transform: translateY(-1px); filter: brightness(1.05); }
.btn:active{ transform: translateY(0px) scale(.99); }
.btn--primary{ background: linear-gradient(90deg, var(--brand1), var(--brand2)); color: #070a10; }
.btn--secondary{ background: rgba(255,255,255,.10); border: 1px solid rgba(255,255,255,.12); color: var(--text); }

/* SECTIONS + CARDS (mesmo da etapa anterior) */
.section{ margin-top: 16px; }
.section__head{ display:flex; align-items: baseline; justify-content: space-between; gap:12px; margin:18px 2px 8px; }
.section__title{ margin:0; font-size: 16px; font-weight:900; letter-spacing:-.02em; }
.section__hint{ margin:0; font-size:12px; color:var(--muted2); }
.row{ position:relative; border-radius: var(--radius); }
.row__scroller{ display:flex; gap:12px; overflow-x:auto; padding: 8px 2px 14px; scroll-snap-type: x mandatory; scrollbar-width:none; -webkit-overflow-scrolling:touch; }
.row__scroller::-webkit-scrollbar{ display:none; }
.row__btn{ position:absolute; top:50%; transform: translateY(-50%); width:44px; height:44px; border-radius:999px; border:1px solid rgba(255,255,255,.12); background: rgba(15,19,29,.68); backdrop-filter: blur(14px); color:var(--text); cursor:pointer; display:flex; align-items:center; justify-content:center; box-shadow: 0 12px 30px rgba(0,0,0,.30); opacity:0; transition: opacity .12s ease, transform .12s ease; }
.row:hover .row__btn{ opacity:1; }
.row__btn:hover{ transform: translateY(-50%) scale(1.05); }
.row__btn--left{ left: -6px; }
.row__btn--right{ right: -6px; }

.card{ scroll-snap-align: start; width: 240px; min-width: 240px; border-radius: 18px; border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.04); overflow:hidden; cursor:pointer; position:relative; box-shadow: 0 10px 30px rgba(0,0,0,.18); transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease; }
.card:hover{ transform: translateY(-6px) scale(1.02); border-color: rgba(255,255,255,.18); box-shadow: 0 18px 50px rgba(0,0,0,.30); }
.card__media{ height: 122px; background:
  radial-gradient(220px 140px at 20% 30%, rgba(124,58,237,.36), transparent 60%),
  radial-gradient(220px 140px at 70% 10%, rgba(6,182,212,.26), transparent 60%),
  linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.03));
  border-bottom: 1px solid rgba(255,255,255,.10); position:relative;
}
.card__media img{ width:100%; height:100%; object-fit: cover; display:block; opacity:.95; }
.card__media .badge{ position:absolute; top:10px; left:10px; padding: 6px 9px; border-radius: 999px; font-size: 10px; font-weight: 900; letter-spacing:.06em; text-transform: uppercase; background: rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.14); }
.favbtn{ position:absolute; top:10px; right:10px; width: 34px; height: 34px; border-radius: 999px; border:1px solid rgba(255,255,255,.14); background: rgba(0,0,0,.35); backdrop-filter: blur(8px); color: rgba(234,240,255,.92); cursor:pointer; display:flex; align-items:center; justify-content:center; font-size: 16px; transition: transform .12s ease, background .12s ease, border-color .12s ease; }
.favbtn:hover{ transform: scale(1.06); background: rgba(0,0,0,.46); }
.favbtn.is-on{ border-color: rgba(245,158,11,.35); background: rgba(245,158,11,.18); }
.card__body{ padding: 12px 12px 14px; }
.card__title{ margin:0 0 6px; font-size: 13px; letter-spacing: -.02em; font-weight: 900; line-height: 1.18; }
.card__desc{ margin:0; font-size: 12px; color: var(--muted); line-height: 1.45; min-height: 34px; }
.card__meta{ margin-top: 10px; display:flex; gap:8px; flex-wrap: wrap; }
.pill{ font-size: 10px; font-weight: 900; color: rgba(234,240,255,.80); border:1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.18); padding: 6px 8px; border-radius: 999px; }

/* GRID / PAGE HEADERS */
.grid{ display:grid; gap: 12px; grid-template-columns: repeat(4, minmax(0, 1fr)); }
@media (max-width: 1100px){ .grid{ grid-template-columns: repeat(3, minmax(0, 1fr)); } }
@media (max-width: 820px){
  .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .navlinks{ display:none; }
  .searchbox{ width: 100%; }
  .actions{ flex:1; justify-content:flex-end; }
  .topnav__inner{ flex-wrap:wrap; align-items:flex-start; }
  .brand{ min-width: auto; }
  .hero__inner{ grid-template-columns: 1fr; padding: 18px; }
  .hero__title{ font-size: 28px; }
  .row__btn{ display:none; }
}
@media (max-width: 520px){
  .grid{ grid-template-columns: 1fr; }
  .hero__title{ font-size: 26px; }
  .btn{ width:100%; justify-content:center; }
  .searchbox{ width: 100%; }
  .actions{ width:100%; gap:8px; }
  .pillselect__btn, .ghostbtn{ padding: 10px 10px; }
  .card{ width: 78vw; min-width: 78vw; }
}

.pagehead{ display:flex; align-items:flex-end; justify-content: space-between; gap: 12px; margin: 18px 2px 10px; }
.pagehead h1{ margin:0; font-size: 22px; letter-spacing: -.03em; font-weight: 900; }
.pagehead p{ margin:6px 0 0; color: var(--muted); font-size: 12px; }
.kbtn{ display:flex; gap:10px; flex-wrap:wrap; }

/* ENTRY */
.entry{ margin-top: 14px; border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.04); border-radius: var(--radius2); overflow:hidden; box-shadow: var(--shadow2); }
.entry__top{ display:grid; grid-template-columns: 1.1fr .9fr; gap: 14px; padding: 18px; border-bottom: 1px solid rgba(255,255,255,.08); background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); }
.entry__top h1{ margin:0 0 8px; font-size: 28px; letter-spacing: -.04em; font-weight: 900; }
.entry__top .lead{ margin: 0 0 10px; color: var(--muted); line-height: 1.55; font-size: 13px; }
.entry__side{ border:1px solid rgba(255,255,255,.10); background: rgba(0,0,0,.22); border-radius: 18px; overflow:hidden; }
.entry__img{ width:100%; aspect-ratio: 16/10; background:
  radial-gradient(320px 220px at 20% 30%, rgba(124,58,237,.38), transparent 65%),
  radial-gradient(320px 220px at 70% 10%, rgba(6,182,212,.28), transparent 65%),
  linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.03));
}
.entry__img img{ width:100%; height:100%; object-fit: cover; display:block; opacity:.96; }
.entry__side .sidepad{ padding: 12px 12px 14px; }
.sidepad .miniTitle{ font-weight: 900; font-size: 12px; margin:0 0 8px; color: rgba(234,240,255,.88); }
.sidepad .small{ margin:0; color: var(--muted); font-size: 12px; line-height: 1.45; }
.entry__content{ padding: 18px; }
.entry__content h2{ margin: 0 0 10px; font-size: 14px; letter-spacing: -.01em; font-weight: 900; }
.entry__content .def{ color: rgba(234,240,255,.90); line-height: 1.7; font-size: 13px; }
.entry__content ul{ margin: 10px 0 16px 18px; color: rgba(234,240,255,.86); line-height: 1.55; font-size: 13px; }
.entry__content .example{ margin-top: 12px; padding: 12px 12px; border-radius: 16px; border: 1px solid rgba(255,255,255,.10); background: rgba(0,0,0,.18); color: rgba(234,240,255,.88); font-size: 12px; line-height: 1.6; }
.seealso{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 14px; }
.linkpill{ text-decoration:none; display:inline-flex; align-items:center; gap:8px; padding: 10px 12px; border-radius: 999px; border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.06); color: var(--text); font-weight: 900; font-size: 12px; transition: transform .12s ease, background .12s ease; }
.linkpill:hover{ transform: translateY(-1px); background: rgba(255,255,255,.10); }
@media (max-width: 820px){ .entry__top{ grid-template-columns: 1fr; } .entry__top h1{ font-size: 24px; } }

/* INDEX INTERNO + PR√ÅTICA */
.entryIndex{ display:flex; gap:8px; flex-wrap:wrap; margin: 10px 0 0; }
.entryIndex a{ text-decoration:none; color: rgba(234,240,255,.82); font-weight:900; font-size:11px; padding:7px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.16); }
.practiceBox{ margin-top:16px; border:1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.18); border-radius:16px; padding: 12px; }
.practiceList{ display:grid; gap:8px; }
.practiceItem{ display:flex; align-items:center; gap:10px; padding:10px; border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.06); border-radius:12px; }
.practiceItem input{ width:18px; height:18px; }

/* TRILHAS */
.trackCard{ border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.04); border-radius:20px; padding:16px; box-shadow: var(--shadow2); }
.trackGrid{ display:grid; gap:12px; grid-template-columns: repeat(3, minmax(0,1fr)); }
@media (max-width: 900px){ .trackGrid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 600px){ .trackGrid{ grid-template-columns: 1fr; } }

/* QUIZ */
.quizWrap{ border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.04); border-radius:20px; padding:16px; box-shadow: var(--shadow2); }
.quizQ{ font-size:16px; font-weight:900; margin:0 0 12px; }
.quizChoices{ display:grid; gap:10px; }
.quizBtn{ border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.06); color:var(--text); font-weight:800; padding:10px 12px; border-radius:12px; cursor:pointer; text-align:left; }
.quizBtn:hover{ background: rgba(255,255,255,.10); transform: translateY(-1px); }
.quizFooter{ display:flex; gap:10px; justify-content:space-between; align-items:center; margin-top:12px; }
.quizBadge{ font-size:12px; color:var(--muted); }
.quizResult{ margin-top:12px; padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,.12); background: rgba(0,0,0,.18); font-weight:900; }
.correct{ outline:2px solid rgba(34,197,94,.7); }
.wrong{ outline:2px solid rgba(239,68,68,.7); }

/* FOOTER/MODAL/TOAST (inalterado da etapa anterior) */
.footer{ border-top:1px solid rgba(255,255,255,.08); background: rgba(0,0,0,.18); backdrop-filter: blur(10px); }
.footer__inner{ max-width: var(--max); margin: 0 auto; padding: 20px 14px calc(20px + var(--safe-bottom)); display:flex; gap: 18px; align-items:flex-start; justify-content: space-between; }
.footer__text{ margin: 8px 0 0; color: var(--muted); font-size: 12px; line-height: 1.55; }
.footer__credit{ color: rgba(234,240,255,.92); font-weight: 800; }
.footer__link{ text-decoration:none; color: rgba(234,240,255,.78); font-weight: 800; font-size: 12px; padding: 6px 8px; border-radius: 12px; display:inline-block; }
.footer__link:hover{ background: rgba(255,255,255,.06); color: var(--text); }

.toast{ position: fixed; bottom: calc(18px + var(--safe-bottom)); left: 50%; transform: translateX(-50%); z-index: 60; padding: 12px 14px; border-radius: 16px; border:1px solid rgba(255,255,255,.12); background: rgba(15,19,29,.88); box-shadow: var(--shadow2); color: rgba(234,240,255,.92); font-weight: 900; font-size: 12px; display:none; max-width: min(680px, calc(100vw - 26px)); text-align:center; }

.modal{ position: fixed; inset:0; z-index: 80; display:none; }
.modal__backdrop{ position:absolute; inset:0; background: rgba(0,0,0,.65); backdrop-filter: blur(6px); }
.modal__card{ position:relative; width: min(720px, calc(100vw - 24px)); margin: calc(10vh + var(--safe-top)) auto 0; border-radius: 22px; border:1px solid rgba(255,255,255,.12); background: rgba(15,19,29,.96); box-shadow: var(--shadow); overflow:hidden; }
.modal__header{ padding: 14px 14px 10px; border-bottom:1px solid rgba(255,255,255,.08); display:flex; align-items:center; justify-content: space-between; gap: 12px; }
.modal__title{ margin:0; font-size: 14px; font-weight: 900; letter-spacing: -.02em; }
.modal__close{ border:none; background: rgba(255,255,255,.10); color: var(--text); border-radius: 12px; width: 38px; height: 38px; cursor:pointer; font-size: 18px; line-height: 1; }
.modal__body{ padding: 14px; color: var(--muted); font-size: 12px; line-height: 1.6; }
.modal__footer{ padding: 12px 14px 14px; display:flex; gap: 10px; justify-content: flex-end; border-top:1px solid rgba(255,255,255,.08); }
.hidden{ display:none !important; }